<!DOCTYPE html>

<html>
  <head>
    <title>Co-Farm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
  </head>
  <body>
    <header>
      <a id="title" href="#mission">
        <img id="logo" src="images/logo.svg">
        <h1>Co-Farm</h1>
      </a>
      <div id="menu-icon">
        <img src="images/burger-bar.png">
      </div>
      <nav id="menu">
        <ul>
          <li><a href="#mission">Our Mission</a></li>
          <li><a href="#portfolio">Portfolio</a></li>
          <li><a href="#staff">Staff</a></li>
          <li><a href="#contact">Contact Us</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <section id="mission">
        <div id="mission-text">
          <h2>Introducing Co&NoBreak;-&NoBreak;Farm</h2>
          <p>Flexible land rental solutions</p>
        </div>
      </section>
      <section id="portfolio">
        <h2>Portfolio</h2>
        <ul>
          <li id="festivals" class="festivals hide-image"><h3>Festivals</h3></li>
          <li id="farming" class="farming hide-image"><h3>Farming</h3></li>
          <li id="camping" class="camping hide-image"><h3>Camping</h3></li>
          <li id="sports" class="sports hide-image"><h3>Sports Events</h3></li>
        </ul>
        <p>Some examples of how others have used our services</p>
      </section>
      <section id="staff">
        <h2>Staff</h2>
        <ul>
          <li>
            <figure>
              <img src="images/headshot1.jpeg">
              <figcaption>
                <h3>Brad Bumble</h3>
                <p>CEO</p>
                <p></p>
              </figcaption>
            </figure>
          </li>
          <li>
            <figure>
              <img src="images/headshot2.jpeg">
              <figcaption>
                <h3>Jen Jupiter</h3>
                <p>Head of Marketing</p>
                <p></p>
              </figcaption>
            </figure>
          </li>
          <li>
            <figure>
              <img src="images/headshot3.jpeg">
              <figcaption>
                <h3>Chris Carpenter</h3>
                <p>Head of Logistics</p>
                <p></p>
              </figcaption>
            </figure>
          </li>
        </ul>
        <p>Meet the team</p>
      </section>
      <section id="contact">
        <h2>Contact Us</h2>
        <p>hello@co-farm.co.uk</p>
      </section>
    </main>
    <footer></footer>
    <script>
      const header = document.getElementsByTagName("header")[0];
      const menuIcon = document.getElementById("menu-icon");
      const menu = document.getElementById("menu");
      const menuItems = document.getElementsByTagName("a");
      const main = document.getElementsByTagName("main")[0];

      menuIcon.addEventListener("click", () => {
        menu.classList.toggle("show-on-mobile");
      }, false);


      for (menuItem of menuItems) {
        menuItem.addEventListener("click", () => {
          menu.classList.remove("show-on-mobile");
        }, false);
      }

      header.addEventListener("mouseleave", () => {
        menu.classList.remove("show-on-mobile");
      }, false);

      window.addEventListener('resize', () => {
        if (window.innerWidth > 700) {
          menu.classList.remove("show-on-mobile");
        }
      }, false);

      var observer = new IntersectionObserver(function(entries) {
        for (entry of entries) {
          if(entry.isIntersecting === true) {
            //console.log('Element is fully visible in screen');
            entry.target.classList.remove("hide-image");
          } else {
            //console.log('Element is not fully visible in screen');
            //console.log(entry);
            entry.target.classList.add("hide-image");
          }
        }
      }, { threshold: [0.9] });

      document.querySelectorAll("#portfolio li").forEach(function (element) {
        observer.observe(element);
        console.log(element);
      });

      document.querySelectorAll("#staff img").forEach(function (element) {
        observer.observe(element);
        console.log(element);
      });
    </script>
  </body>
</html>